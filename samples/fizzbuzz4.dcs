func step_to(var first, last, p)
    for first <= last
        p(first)
        first += 1
    end
end

func fizzbuzz(n, p)
    1.step_to n do |i|
        case
        when i % 15 == 0
            p("fizzbuzz")
        when i %  3 == 0
            p("fizz")
        when i %  5 == 0
            p("buzz")
        else
            p(i)
        end
    end
end

func main
    fizzbuzz(100) do |i|
        println(i)
    end
end
